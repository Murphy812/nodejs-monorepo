<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <!-- Required Stylesheets -->
  <link type="text/css" rel="stylesheet" href="https://unpkg.com/bootstrap/dist/css/bootstrap.min.css" />
  <link type="text/css" rel="stylesheet" href="https://unpkg.com/bootstrap-vue@2.13.1/dist/bootstrap-vue.css" />

  <!-- Load polyfills to support older browsers -->
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es2015%2CIntersectionObserver"></script>

  <!-- Required scripts -->
  <!-- Vue itself -->
  <script src="https://cdn.jsdelivr.net/npm/vue@2.6.11"></script>
  <!-- bootstrap-vue (bootstap components for Vue, https://bootstrap-vue.js.org/docs/components/ -->
  <script src="https://unpkg.com/bootstrap-vue@2.13.1/dist/bootstrap-vue.js"></script>
  <!-- vue-resource (http client) -->
  <script src="https://cdn.jsdelivr.net/npm/vue-resource@1.5.1"></script>

  <script src="https://fengyuanchen.github.io/vue-qrcode/js/vue-qrcode.js"></script>
</head>

<body>
  <div id="app">
    <b-container>
      <b-tabs content-class="mt-3">
        <b-tab title="Персонаж" active>
          <b-input-group prepend="ID персонажа">
            <b-form-input type="number" v-model="desiredCharacterId"></b-form-input>
            <b-input-group-append>
              <b-button variant="outline-primary" v-on:click="chooseCharacter">Обновить</b-button>
            </b-input-group-append>
          </b-input-group>
          <span v-if="characterModel">
            <b-card no-body>
              <b-card-body>
                <b-table-simple small>
                  <caption>
                    Персонаж {{ characterModel.name }} (model ID = {{ characterModel.modelId }}), состояние на
                    {{ new Date(characterModel.timestamp).toLocaleString("ru-RU") }}
                  </caption>
                  <b-button block v-b-toggle.character_qr variant="info">
                    QR-код персонажа
                  </b-button>
                  <b-collapse id="character_qr">
                    <qrcode v-if="characterQrCodeEncoded" :value="characterQrCodeEncoded" :options="{ width: 300 }"></qrcode>
                  </b-collapse>

                  <b-tbody>
                    <b-tr>
                      <b-th>Метараса</b-th>
                      <b-td>metarace</b-td>
                      <b-td> {{ characterModel.metarace }}</b-td>
                    </b-tr>
                    <b-tr>
                      <b-th>Состояние физического тела</b-th>
                      <b-td>healthState</b-td>
                      <b-td> {{ characterModel.healthState }}</b-td>
                    </b-tr>
                    <b-tr>
                      <b-th>Максимальные хиты</b-th>
                      <b-td>maxHp</b-td>
                      <b-td> {{ characterModel.maxHp }}</b-td>
                    </b-tr>
                    <b-tr>
                      <b-th>Магия</b-th>
                      <b-td>magic</b-td>
                      <b-td>{{ characterModel.magic }}</b-td>
                    </b-tr>
                    <b-tr>
                      <b-th>Strength</b-th>
                      <b-td>strength</b-td>
                      <b-td>{{ characterModel.strength }}</b-td>
                    </b-tr>
                    <b-tr>
                      <b-th>Body</b-th>
                      <b-td>body</b-td>
                      <b-td>{{ characterModel.body }}</b-td>
                    </b-tr>
                    <b-tr>
                      <b-th>Интеллект</b-th>
                      <b-td>intelligence</b-td>
                      <b-td>{{ characterModel.intelligence }}</b-td>
                    </b-tr>
                    <b-tr>
                      <b-th>Резонанс</b-th>
                      <b-td>resonance</b-td>
                      <b-td>{{ characterModel.resonance }}</b-td>
                    </b-tr>
                    <b-tr>
                      <b-th>Depth</b-th>
                      <b-td>depth</b-td>
                      <b-td>{{ characterModel.depth }}</b-td>
                    </b-tr>
                    <b-tr>
                      <b-th>Харизма</b-th>
                      <b-td>charisma</b-td>
                      <b-td>{{ characterModel.charisma }}</b-td>
                    </b-tr>
                    <b-tr>
                      <b-th>Бонус к ментальной атаке</b-th>
                      <b-td>mentalAttackBonus</b-td>
                      <b-td>{{ characterModel.mentalAttackBonus }}</b-td>
                    </b-tr>
                    <b-tr>
                      <b-th>Бонус к ментальной защите</b-th>
                      <b-td>mentalDefenceBonus</b-td>
                      <b-td>{{ characterModel.mentalDefenceBonus }}</b-td>
                    </b-tr>
                    <b-tr>
                      <b-th>Матричное состояние</b-th>
                      <b-td>matrixHp</b-td>
                      <b-td> {{ characterModel.matrixHp }}</b-td>
                    </b-tr>
                    <b-tr>
                      <b-th>Максимальное время в VR</b-th>
                      <b-td>maxTimeInVr</b-td>
                      <b-td>{{ characterModel.maxTimeInVr }}</b-td>
                    </b-tr>
                    <b-tr>
                      <b-th>Количество слотов под импланты в теле</b-th>
                      <b-td>implantsBodySlots</b-td>
                      <b-td> {{ characterModel.implantsBodySlots }}</b-td>
                    </b-tr>
                  </b-tbody>
                </b-table-simple>
                <b-button block href="#" v-b-toggle.magic variant="info">
                  Магические характеристики
                </b-button>
                <b-collapse id="magic">
                  <b-table-simple small>
                    <b-tbody>
                      <b-tr>
                        <b-th>Коэффициент отката</b-th>
                        <b-td>magicStats.feedbackMultiplier</b-td>
                        <b-td> {{ characterModel.magicStats.feedbackMultiplier }}</b-td>
                      </b-tr>
                      <b-tr>
                        <b-th>Коэффициент восстановления Магии</b-th>
                        <b-td>magicStats.recoverySpeedMultiplier</b-td>
                        <b-td>{{ characterModel.magicStats.recoverySpeedMultiplier }}</b-td>
                      </b-tr>
                      <b-tr>
                        <b-th>Коэффициент Сопротивления Духов</b-th>
                        <b-td>magicStats.spiritResistanceMultiplier</b-td>
                        <b-td>{{ characterModel.magicStats.spiritResistanceMultiplier }}</b-td>
                      </b-tr>
                      <b-tr>
                        <b-th>Коэффициент Чтения Астральных Следов</b-th>
                        <b-td>magicStats.auraReadingMultiplier</b-td>
                        <b-td>{{ characterModel.magicStats.auraReadingMultiplier }}</b-td>
                      </b-tr>
                      <b-tr>
                        <b-th>Коэффициент Отчетливости Астральных Следов</b-th>
                        <b-td>magicStats.auraMarkMultiplier</b-td>
                        <b-td>{{ characterModel.magicStats.auraMarkMultiplier }}</b-td>
                      </b-tr>
                      <b-tr>
                        <b-th>Аура</b-th>
                        <b-td>magicStats.aura</b-td>
                        <b-td>{{ characterModel.magicStats.aura }}</b-td>
                      </b-tr>
                      <b-tr>
                        <b-th>Маска ауры</b-th>
                        <b-td>magicStats.auraMask</b-td>
                        <b-td>{{ characterModel.magicStats.auraMask }}</b-td>
                      </b-tr>
                    </b-tbody>
                  </b-table-simple>
                </b-collapse>
                <b-button block href="#" v-b-toggle.hacker variant="info">
                  Хакерские характеристики
                </b-button>
                <b-collapse id="hacker">
                  <b-table-simple small>
                    <b-tbody>
                      <b-tr>
                        <b-th>Бонус к резонансу для контроля</b-th>
                        <b-td>hacking.resonanceForControlBonus</b-td>
                        <b-td>{{ characterModel.hacking.resonanceForControlBonus }}</b-td>
                      </b-tr>
                      <b-tr>
                        <b-th>Максимальное время на хосте</b-th>
                        <b-td>hacking.maxTimeAtHost</b-td>
                        <b-td>{{ characterModel.hacking.maxTimeAtHost }}</b-td>
                      </b-tr>
                      <b-tr>
                        <b-th>Скорость входа на хост</b-th>
                        <b-td>hacking.hostEntrySpeed</b-td>
                        <b-td>{{ characterModel.hacking.hostEntrySpeed }}</b-td>
                      </b-tr>
                      <b-tr>
                        <b-th>Конверсия атаки</b-th>
                        <b-td>hacking.conversionAttack</b-td>
                        <b-td>{{ characterModel.hacking.conversionAttack }}</b-td>
                      </b-tr>
                      <b-tr>
                        <b-th>Конверсия файрвола</b-th>
                        <b-td>hacking.conversionFirewall</b-td>
                        <b-td>{{ characterModel.hacking.conversionFirewall }}</b-td>
                      </b-tr>
                      <b-tr>
                        <b-th>Конверсия слизи</b-th>
                        <b-td>hacking.conversionSleaze</b-td>
                        <b-td>{{ characterModel.hacking.conversionSleaze }}</b-td>
                      </b-tr>
                      <b-tr>
                        <b-th>Конверсия датапроцессинга</b-th>
                        <b-td>hacking.conversionDataprocessing</b-td>
                        <b-td>{{ characterModel.hacking.conversionDataprocessing }}</b-td>
                      </b-tr>
                      <b-tr>
                        <b-th>Число администрируемых хостов</b-th>
                        <b-td>hacking.adminHostNumber</b-td>
                        <b-td>{{ characterModel.hacking.adminHostNumber }}</b-td>
                      </b-tr>
                      <b-tr>
                        <b-th>Уровень спрайтов</b-th>
                        <b-td>hacking.spriteLevel</b-td>
                        <b-td>{{ characterModel.hacking.spriteLevel }}</b-td>
                      </b-tr>
                      <b-tr>
                        <b-th>Дополнительные спрайты</b-th>
                        <b-td>hacking.additionalSprites</b-td>
                        <b-td>{{ characterModel.hacking.additionalSprites }}</b-td>
                      </b-tr>
                      <b-tr>
                        <b-th>Дополнительные бекдоры</b-th>
                        <b-td>hacking.additionalBackdoors</b-td>
                        <b-td>{{ characterModel.hacking.additionalBackdoors }}</b-td>
                      </b-tr>
                      <b-tr>
                        <b-th>Время жизни бекдоров</b-th>
                        <b-td>hacking.backdoorTtl</b-td>
                        <b-td>{{ characterModel.hacking.backdoorTtl }}</b-td>
                      </b-tr>
                      <b-tr>
                        <b-th>Дополнительные запросы к контролю</b-th>
                        <b-td>hacking.additionalRequests</b-td>
                        <b-td>{{ characterModel.hacking.additionalRequests }}</b-td>
                      </b-tr>
                      <b-tr>
                        <b-th>Сопротивление фейдингу</b-th>
                        <b-td>hacking.fadingResistance</b-td>
                        <b-td>{{ characterModel.hacking.fadingResistance }}</b-td>
                      </b-tr>
                      <b-tr>
                        <b-th>Сопротивление фейдингу для компиляции</b-th>
                        <b-td>hacking.compilationFadingResistance</b-td>
                        <b-td>{{ characterModel.hacking.compilationFadingResistance }}</b-td>
                      </b-tr>
                      <b-tr>
                        <b-th>Сопротивление биофидбеку</b-th>
                        <b-td>hacking.biofeedbackResistance</b-td>
                        <b-td>{{ characterModel.hacking.biofeedbackResistance }}</b-td>
                      </b-tr>
                      <b-tr>
                        <b-th>Сопротивление вэриансу</b-th>
                        <b-td>hacking.varianceResistance</b-td>
                        <b-td>{{ characterModel.hacking.varianceResistance }}</b-td>
                      </b-tr>
                    </b-tbody>
                  </b-table-simple>
                </b-collapse>
                <b-button block href="#" v-b-toggle.discounts variant="info">
                  Экономические характеристики
                </b-button>
                <b-collapse id="discounts">
                  <b-table-simple small>
                    <b-tbody>
                      <b-tr>
                        <b-th>Безусловный доход в процентах от оборота</b-th>
                        <b-td>billing.stockGainPercentage</b-td>
                        <b-td>{{ characterModel.billing.stockGainPercentage }}</b-td>
                      </b-tr>
                      <b-tr>
                        <b-th>Переводы анонимны</b-th>
                        <b-td>billing.anonymous</b-td>
                        <b-td>{{ characterModel.billing.anonymous }}</b-td>
                      </b-tr>
                      <b-tr>
                        <b-th>Коэффициент цены на оружие и броню</b-th>
                        <b-td>discounts.weaponsArmor</b-td>
                        <b-td>{{ characterModel.discounts.weaponsArmor }}</b-td>
                      </b-tr>
                      <b-tr>
                        <b-th>Коэффициент цены на все</b-th>
                        <b-td>discounts.everything</b-td>
                        <b-td>{{ characterModel.discounts.everything }}</b-td>
                      </b-tr>
                      <b-tr>
                        <b-th>Коэффициент цены на товары ares</b-th>
                        <b-td>discounts.ares</b-td>
                        <b-td>{{ characterModel.discounts.ares }}</b-td>
                      </b-tr>
                      <b-tr>
                        <b-th>Коэффициент цены на товары aztechnology</b-th>
                        <b-td>discounts.aztechnology</b-td>
                        <b-td>{{ characterModel.discounts.aztechnology }}</b-td>
                      </b-tr>
                      <b-tr>
                        <b-th>Коэффициент цены на товары saederKrupp</b-th>
                        <b-td>discounts.saederKrupp</b-td>
                        <b-td>{{ characterModel.discounts.saederKrupp }}</b-td>
                      </b-tr>
                      <b-tr>
                        <b-th>Коэффициент цены на товары spinradGlobal</b-th>
                        <b-td>discounts.spinradGlobal</b-td>
                        <b-td>{{ characterModel.discounts.spinradGlobal }}</b-td>
                      </b-tr>
                      <b-tr>
                        <b-th>Коэффициент цены на товары neonet1</b-th>
                        <b-td>discounts.neonet1</b-td>
                        <b-td>{{ characterModel.discounts.neonet1 }}</b-td>
                      </b-tr>
                      <b-tr>
                        <b-th>Коэффициент цены на товары evo</b-th>
                        <b-td>discounts.evo</b-td>
                        <b-td>{{ characterModel.discounts.evo }}</b-td>
                      </b-tr>
                      <b-tr>
                        <b-th>Коэффициент цены на товары horizon</b-th>
                        <b-td>discounts.horizon</b-td>
                        <b-td>{{ characterModel.discounts.horizon }}</b-td>
                      </b-tr>
                      <b-tr>
                        <b-th>Коэффициент цены на товары wuxing</b-th>
                        <b-td>discounts.wuxing</b-td>
                        <b-td>{{ characterModel.discounts.wuxing }}</b-td>
                      </b-tr>
                      <b-tr>
                        <b-th>Коэффициент цены на товары russia</b-th>
                        <b-td>discounts.russia</b-td>
                        <b-td>{{ characterModel.discounts.russia }}</b-td>
                      </b-tr>
                      <b-tr>
                        <b-th>Коэффициент цены на товары renraku</b-th>
                        <b-td>discounts.renraku</b-td>
                        <b-td>{{ characterModel.discounts.renraku }}</b-td>
                      </b-tr>
                      <b-tr>
                        <b-th>Коэффициент цены на товары mutsuhama</b-th>
                        <b-td>discounts.mutsuhama</b-td>
                        <b-td>{{ characterModel.discounts.mutsuhama }}</b-td>
                      </b-tr>
                      <b-tr>
                        <b-th>Коэффициент цены на товары shiavase</b-th>
                        <b-td>discounts.shiavase</b-td>
                        <b-td>{{ characterModel.discounts.shiavase }}</b-td>
                      </b-tr>
                    </b-tbody>
                  </b-table-simple>
                </b-collapse>
                <b-button block href="#" v-b-toggle.chemo variant="info">
                  Химота
                </b-button>
                <b-collapse id="chemo">
                  <b-table-simple small>
                    <b-tbody>
                      <b-tr>
                        <b-th>Химота Базовый Эффект</b-th>
                        <b-td>chemo.baseEffectThreshold</b-td>
                        <b-td>{{ characterModel.chemo.baseEffectThreshold }}</b-td>
                      </b-tr>
                      <b-tr>
                        <b-th>Химота Убер Эффект</b-th>
                        <b-td>chemo.uberEffectThreshold</b-td>
                        <b-td>{{ characterModel.chemo.uberEffectThreshold }}</b-td>
                      </b-tr>
                      <b-tr>
                        <b-th>Химота Супер Эффект</b-th>
                        <b-td>chemo.superEffectThreshold</b-td>
                        <b-td>{{ characterModel.chemo.superEffectThreshold }}</b-td>
                      </b-tr>
                      <b-tr>
                        <b-th>Химота Кризис</b-th>
                        <b-td>chemo.crysisThreshold</b-td>
                        <b-td>{{ characterModel.chemo.crysisThreshold }}</b-td>
                      </b-tr>
                      <b-tr>
                        <b-th>Текгель</b-th>
                        <b-td>chemo.concentration.teqgel</b-td>
                        <b-td>{{ characterModel.chemo.concentration.teqgel}}</b-td>
                      </b-tr>
                      <b-tr>
                        <b-th>Йод</b-th>
                        <b-td>chemo.concentration.iodine</b-td>
                        <b-td>{{ characterModel.chemo.concentration.iodine}}</b-td>
                      </b-tr>
                      <b-tr>
                        <b-th>Аргон</b-th>
                        <b-td>chemo.concentration.argon</b-td>
                        <b-td>{{ characterModel.chemo.concentration.argon}}</b-td>
                      </b-tr>
                      <b-tr>
                        <b-th>Радий</b-th>
                        <b-td>chemo.concentration.radium</b-td>
                        <b-td>{{ characterModel.chemo.concentration.radium}}</b-td>
                      </b-tr>
                      <b-tr>
                        <b-th>Юний</b-th>
                        <b-td>chemo.concentration.junius</b-td>
                        <b-td>{{ characterModel.chemo.concentration.junius}}</b-td>
                      </b-tr>
                      <b-tr>
                        <b-th>Кустодий</b-th>
                        <b-td>chemo.concentration.custodium</b-td>
                        <b-td>{{ characterModel.chemo.concentration.custodium}}</b-td>
                      </b-tr>
                      <b-tr>
                        <b-th>Полоний</b-th>
                        <b-td>chemo.concentration.polonium</b-td>
                        <b-td>{{ characterModel.chemo.concentration.polonium}}</b-td>
                      </b-tr>
                      <b-tr>
                        <b-th>Силикон</b-th>
                        <b-td>chemo.concentration.silicon</b-td>
                        <b-td>{{ characterModel.chemo.concentration.silicon}}</b-td>
                      </b-tr>
                      <b-tr>
                        <b-th>Магний</b-th>
                        <b-td>chemo.concentration.magnium</b-td>
                        <b-td>{{ characterModel.chemo.concentration.magnium}}</b-td>
                      </b-tr>
                      <b-tr>
                        <b-th>Хром</b-th>
                        <b-td>chemo.concentration.chromium</b-td>
                        <b-td>{{ characterModel.chemo.concentration.chromium}}</b-td>
                      </b-tr>
                      <b-tr>
                        <b-th>Опий</b-th>
                        <b-td>chemo.concentration.opium</b-td>
                        <b-td>{{ characterModel.chemo.concentration.opium}}</b-td>
                      </b-tr>
                      <b-tr>
                        <b-th>Эльба</b-th>
                        <b-td>chemo.concentration.elba</b-td>
                        <b-td>{{ characterModel.chemo.concentration.elba}}</b-td>
                      </b-tr>
                      <b-tr>
                        <b-th>Барий</b-th>
                        <b-td>chemo.concentration.barium</b-td>
                        <b-td>{{ characterModel.chemo.concentration.barium}}</b-td>
                      </b-tr>
                      <b-tr>
                        <b-th>Уранус</b-th>
                        <b-td>chemo.concentration.uranium</b-td>
                        <b-td>{{ characterModel.chemo.concentration.uranium}}</b-td>
                      </b-tr>
                      <b-tr>
                        <b-th>Московий</b-th>
                        <b-td>chemo.concentration.moscovium</b-td>
                        <b-td>{{ characterModel.chemo.concentration.moscovium}}</b-td>
                      </b-tr>
                      <b-tr>
                        <b-th>Иконий</b-th>
                        <b-td>chemo.concentration.iconium</b-td>
                        <b-td>{{ characterModel.chemo.concentration.iconium}}</b-td>
                      </b-tr>
                      <b-tr>
                        <b-th>Слюна вампира</b-th>
                        <b-td>chemo.concentration.vampirium</b-td>
                        <b-td>{{ characterModel.chemo.concentration.vampirium}}</b-td>
                      </b-tr>
                    </b-tbody>
                  </b-table-simple>
                </b-collapse>
                <b-button block href="#" v-b-toggle.drones variant="info">
                  Риггерство
                </b-button>
                <b-collapse id="drones">
                  <b-table-simple small>
                    <b-tbody>
                      <b-tr>
                        <b-th>Модификатор урона при выходе</b-th>
                        <b-td>drones.feedbackModifier</b-td>
                        <b-td>{{ characterModel.drones.feedbackModifier }}</b-td>
                      </b-tr>
                      <b-tr>
                        <b-th>Максимальная сложность дрона</b-th>
                        <b-td>drones.maxDifficulty</b-td>
                        <b-td>{{ characterModel.drones.maxDifficulty }}</b-td>
                      </b-tr>
                      <b-tr>
                        <b-th>Максимальное время в дроне</b-th>
                        <b-td>drones.maxTimeInside</b-td>
                        <b-td>{{ characterModel.drones.maxTimeInside }}</b-td>
                      </b-tr>
                      <b-tr>
                        <b-th>Время восстановления после</b-th>
                        <b-td>drones.recoveryTime</b-td>
                        <b-td>{{ characterModel.drones.recoveryTime }}</b-td>
                      </b-tr>
                      <b-tr>
                        <b-th>Навык управления медицинскими дронами</b-th>
                        <b-td>drones.medicraftBonus</b-td>
                        <b-td>{{ characterModel.drones.medicraftBonus }}</b-td>
                      </b-tr>
                      <b-tr>
                        <b-th>Навык управления летающими дронами</b-th>
                        <b-td>drones.aircraftBonus</b-td>
                        <b-td>{{ characterModel.drones.aircraftBonus }}</b-td>
                      </b-tr>
                      <b-tr>
                        <b-th>Навык управления наземными дронами</b-th>
                        <b-td>drones.groundcraftBonus</b-td>
                        <b-td>{{ characterModel.drones.groundcraftBonus }}</b-td>
                      </b-tr>
                      <b-tr>
                        <b-th>Может работать с биоваром</b-th>
                        <b-td>rigging.canWorkWithBioware</b-td>
                        <b-td>{{ characterModel.rigging.canWorkWithBioware }}</b-td>
                      </b-tr>
                      <b-tr>
                        <b-th>Способность ставить импланты</b-th>
                        <b-td>rigging.implantsBonus</b-td>
                        <b-td>{{ characterModel.rigging.implantsBonus }}</b-td>
                      </b-tr>
                      <b-tr>
                        <b-th>Способность ставить моды</b-th>
                        <b-td>rigging.tuningBonus</b-td>
                        <b-td>{{ characterModel.rigging.tuningBonus }}</b-td>
                      </b-tr>
                      <b-tr>
                        <b-th>Способность рипомена</b-th>
                        <b-td>rigging.repomanBonus</b-td>
                        <b-td>{{ characterModel.rigging.repomanBonus }}</b-td>
                      </b-tr>
                    </b-tbody>
                  </b-table-simple>
                </b-collapse>

                <b-button block href="#" v-b-toggle.essence variant="info">
                  Эссенс
                </b-button>
                <b-collapse id="essence">
                  <b-table-simple small>
                    <b-tbody>
                      <b-tr>
                        <b-th>Итоговый эссенс</b-th>
                        <b-td>essence</b-td>
                        <b-td>{{ characterModel.essence }}</b-td>
                      </b-tr>
                      <b-tr>
                        <b-th>Максимальный эссенс</b-th>
                        <b-td>essenceDetails.max</b-td>
                        <b-td>{{ characterModel.essenceDetails.max }}</b-td>
                      </b-tr>
                      <b-tr>
                        <b-th>Занято имплантами</b-th>
                        <b-td>essenceDetails.used</b-td>
                        <b-td>{{ characterModel.essenceDetails.used }}</b-td>
                      </b-tr>
                      <b-tr>
                        <b-th>Дыра эссенса</b-th>
                        <b-td>essenceDetails.gap</b-td>
                        <b-td>{{ characterModel.essenceDetails.gap }}</b-td>
                      </b-tr>
                    </b-tbody>
                  </b-table-simple>
                </b-collapse>

                <b-button block href="#" v-b-toggle.karma variant="info">
                  Карма
                </b-button>
                <b-collapse id="karma">
                  <b-table-simple small>
                    <b-tbody>
                      <b-tr>
                        <b-th>Доступно</b-th>
                        <b-td>karma.available</b-td>
                        <b-td>{{ characterModel.karma.available }}</b-td>
                      </b-tr>
                      <b-tr>
                        <b-th>Потрачено</b-th>
                        <b-td>karma.spent</b-td>
                        <b-td>{{ characterModel.karma.spent }}</b-td>
                      </b-tr>
                      <b-tr>
                        <b-th>Потрачено на пассивки</b-th>
                        <b-td>karma.spentOnPassives</b-td>
                        <b-td>{{ characterModel.karma.spentOnPassives }}</b-td>
                      </b-tr>
                      <b-tr>
                        <b-th>Лимит на цикл</b-th>
                        <b-td>karma.cycleLimit</b-td>
                        <b-td>{{ characterModel.karma.cycleLimit }}</b-td>
                      </b-tr>
                    </b-tbody>
                  </b-table-simple>
                </b-collapse>
              </b-card-body>
            </b-card>
            <b-card no-body>
              <b-card-header>
                <b-button block href="#" v-b-toggle.passive_abilities variant="info">
                  Всего пассивных способностей: {{ characterModel.passiveAbilities.length }}
                </b-button>
              </b-card-header>
              <b-collapse id="passive_abilities">
                <b-card-body>
                  <b-table :items="characterModel.passiveAbilities"></b-table>
                </b-card-body>
              </b-collapse>
            </b-card>
            <b-card no-body>
              <b-card-header>
                <b-button block href="#" v-b-toggle.active_abilities variant="info">
                  Всего активных способностей: {{ characterModel.activeAbilities.length }}
                </b-button>
              </b-card-header>
              <b-collapse id="active_abilities">
                <b-card-body>
                  <b-table :items="characterModel.activeAbilities"></b-table>
                </b-card-body>
              </b-collapse>
            </b-card>
            <b-card no-body>
              <b-card-header>
                <b-button block href="#" v-b-toggle.spells variant="info">
                  Всего спеллов: {{ characterModel.spells.length }}
                </b-button>
              </b-card-header>
              <b-collapse id="spells">
                <b-card-body>
                  <b-table :items="characterModel.spells"></b-table>
                </b-card-body>
              </b-collapse>
            </b-card>
            <b-card no-body>
              <b-card-header>
                <b-button block href="#" v-b-toggle.implants variant="info">
                  Всего имплантов: {{ characterModel.implants.length }}
                </b-button>
              </b-card-header>
              <b-collapse id="implants">
                <b-card-body>
                  <b-table :items="characterModel.implants"></b-table>
                </b-card-body>
              </b-collapse>
            </b-card>
            <b-card no-body>
              <b-card-header>
                <b-button block href="#" v-b-toggle.timers variant="info">
                  Всего таймеров: {{ characterModel.timers.length }}
                </b-button>
              </b-card-header>
              <b-collapse id="timers">
                <b-card-body>
                  <b-table :items="characterModel.timers"></b-table>
                </b-card-body>
              </b-collapse>
            </b-card>
            <div class="mt-3">
                <b-card no-body>
                  <b-card-header>Добавление/удаление фичи (без проверки пререквизитов)</b-card-header>
                  <b-card-body>
                    <b-input-group>
                      <b-form-select v-model="selectedFeature">
                        <option v-for="feature in allFeatures" :value="feature.id"> {{ feature.humanReadableName }} </option>
                      </b-form-select>
                      <b-form-input v-model="selectedFeature"></b-form-input>
                      <b-input-group-append>
                        <b-button variant="success" v-on:click="addFeature">Добавить</b-button>
                        <b-button variant="danger" v-on:click="removeFeature">Удалить</b-button>
                      </b-input-group-append>
                    </b-input-group>
                    (Если добавляемая фича уже присутствует в персонаже/удаляемая фича не присутствует - ничего не
                    произойдет!)
                  </b-card-body>
                </b-card>
              </div>
              <div class="mt-3">
                <b-card no-body>
                  <b-card-header>Установка/удаление импланта</b-card-header>
                  <b-card-body>
                    <b-input-group>
                      <b-form-select v-model="selectedImplant">
                        <option v-for="implant in allImplants" :value="implant.id"> {{ implant.name }} ( {{ implant.id }} )
                        </option>
                      </b-form-select>
                      <b-input-group-append>
                        <b-button variant="success" v-on:click="installImplant">Установить</b-button>
                        <b-button variant="danger" v-on:click="removeImplant">Удалить</b-button>
                      </b-input-group-append>
                    </b-input-group>
                  </b-card-body>
                </b-card>
            </div>
            <div class="mt-3">
              <b-card-group deck>
                <b-card no-body>
                  <b-card-header>Ранения и смерть</b-card-header>
                  <b-card-body>
                    <b-input-group prepend="ID персонажа">
                      <b-form-input type="number" v-model="clinicalDeathTarget"></b-form-input>
                      <b-input-group-append>
                        <b-button variant="danger" v-on:click="clinicalDeathOnTarget">Добить</b-button>
                      </b-input-group-append>
                    </b-input-group>
                    <b-button variant="danger" v-on:click="wound">Упасть в тяжран</b-button>
                    <b-button variant="success" v-on:click="revive">Воскресить</b-button>
                  </b-card-body>
                </b-card>
                <b-card no-body>
                  <b-card-header>Сканирование QR-кода</b-card-header>
                  <b-card-body>
                    <b-input-group prepend="ID QR-кода">
                      <b-form-input type="number" v-model="qrCodeId"></b-form-input>
                      <b-input-group-append>
                        <b-button variant="success" v-on:click="scanQr">Отсканировать</b-button>
                      </b-input-group-append>
                    </b-input-group>
                  </b-card-body>
                </b-card>
              </b-card-group>
            </div>

            <div class="mt-3">
              <b-card-group deck>
                <b-card no-body>
                  <b-card-header>
                    Дампшок
                  </b-card-header>
                  <b-card-body>
                    Долбануть дампшоком
                    <b-button variant="danger" v-on:click="dumpshock">Бдыщ!</b-button>
                  </b-card-body>
                </b-card>
              <b-card no-body>
                <b-card-header>
                  Смена расы
                </b-card-header>
                <b-card-body>
                  <b-input-group>
                    <b-form-select v-model="selectedRace">
                      <option v-for="race in allRaces" :value="race.id"> {{ race.name }} ( {{ race.id }} )
                      </option>
                    </b-form-select>
                    <b-input-group-append>
                      <b-button variant="success" v-on:click="setRace">Изменить</b-button>
                    </b-input-group-append>
                  </b-input-group>
                </b-card-body>
              </b-card>
              </b-card-group>
            </div>

            <div class="mt-3">
              <b-card no-body>
                <b-card-header>
                  Этика
                </b-card-header>
                <b-card-body>
                  <div>
                    <b-input-group prepend="Насилие, контроль, индивидуализм, разум" class="mb-2">
                      <b-form-select v-model="violence" :options="ethicOptions"></b-form-select>
                      <b-form-select v-model="control" :options="ethicOptions"></b-form-select>
                      <b-form-select v-model="individualism" :options="ethicOptions"></b-form-select>
                      <b-form-select v-model="mind" :options="ethicOptions"></b-form-select>
                      <b-input-group-append>
                        <b-button variant="success" v-on:click="ethicSet">Установить</b-button>
                      </b-input-group-append>
                    </b-input-group>
                  </div>
                  <b-button block href="#" v-b-toggle.ethic_details variant="info">
                    Подробности
                  </b-button>
                  <b-collapse id="ethic_details">
                    <b-table :items="characterModel.ethic.state"></b-table>
                    <b-table :items="characterModel.ethic.trigger">
                      <template v-slot:cell(Id)="row">
                        <b-button size="sm" variant="warning" @click="ethicTrigger(row.item.id)" class="mr-1">
                          Активировать
                        </b-button>
                      </template>
                    </b-table>
                  </b-collapse>
                </b-card-body>
              </b-card>
            </div>

            <div class="mt-3">
              <b-card no-body>
                <b-card-header>
                  Эссенс
                </b-card-header>
                <b-card-body>
                  <b-button variant="success" v-on:click="increaseEssence">Увеличить макс. эссенс</b-button>
                  <b-button variant="warning" v-on:click="decreaseEssence">Уменьшить макс. эссенс</b-button>
                  <b-button variant="danger" v-on:click="resetEssence">Очистка эссенса и имплантов</b-button>
                </b-card-body>
              </b-card>
            </div>

            <div class="mt-3">
              <b-card no-body>
                <b-card-header>
                  Полный ресет персонажа
                </b-card-header>
                <b-card-body>
                  Полностью сбросить состояние персонажа (обнуляет все способности, эффекты, историю, ...)
                  <b-button variant="danger" v-on:click="resetCharacter">Сбросить (я знаю что делаю)</b-button>
                </b-card-body>
              </b-card>
            </div>
          </span>
        </b-tab>
        <b-tab title="QR-код">
          <b-input-group prepend="ID QR-кода">
            <b-form-input type="number" v-model="desiredQrCodeId"></b-form-input>
            <b-input-group-append>
              <b-button variant="outline-primary" v-on:click="chooseQr">Обновить</b-button>
            </b-input-group-append>
          </b-input-group>
          <span v-if="qrModel">
            <b-card>
              <b-card-body>
                <qrcode v-if="qrCodeEncoded" :value="qrCodeEncoded" :options="{ width: 300 }"></qrcode>
              </b-card-body>
            </b-card>
            <b-card no-body>
              <b-card-body>
                <b-table-simple small>
                  <caption>
                    QR-код {{ qrModel.modelId }}, состояние на
                    {{ new Date(qrModel.timestamp).toLocaleString("ru-RU") }}.
                    Закодированный формат: {{ qrCodeEncoded }}.
                  </caption>
                  <b-tbody>
                    <b-tr>
                      <b-th>Тип</b-th>
                      <b-td>{{ qrModel.type }}</b-td>
                    </b-tr>
                    <b-tr>
                      <b-th>Количество использований</b-th>
                      <b-td>{{ qrModel.usesLeft }}</b-td>
                    </b-tr>
                    <b-tr>
                      <b-th>Название</b-th>
                      <b-td>{{ qrModel.name }}</b-td>
                    </b-tr>
                    <b-tr>
                      <b-th>Описание</b-th>
                      <b-td>{{ qrModel.description }}</b-td>
                    </b-tr>
                  </b-tbody>
                </b-table-simple>
              </b-card-body>
            </b-card>
            <div class="mt-3">
              <b-card no-body v-if="qrModel.type != 'empty'">
                <b-card-header>Стирание QR-кода</b-card-header>
                <b-card-body>
                  <b-button variant="danger" v-on:click="clearQr">Очистить</b-button>
                </b-card-body>
              </b-card>
            </div>
            <div class="mt-3">
              <b-card-group deck>
                <b-card no-body v-if="qrModel.type == 'empty'">
                  <b-card-header>Запись импланта на QR</b-card-header>
                  <b-card-body>
                    <b-input-group>
                      <b-form-select v-model="selectedImplant">
                        <option v-for="implant in allImplants" :value="implant.id"> {{ implant.name }} ( {{ implant.id }} )
                        </option>
                      </b-form-select>
                      <b-input-group-append>
                        <b-button variant="success" v-on:click="writeImplantQr">Записать</b-button>
                      </b-input-group-append>
                    </b-input-group>
                  </b-card-body>
                </b-card>
                <b-card no-body v-if="qrModel.type == 'empty'">
                  <b-card-header>Запись препарата на QR</b-card-header>
                  <b-card-body>
                    <b-input-group>
                      <b-form-select v-model="selectedPill">
                        <option v-for="pill in allPills" :value="pill.id"> {{ pill.name }} ( {{ pill.id }} )
                        </option>
                      </b-form-select>
                      <b-input-group-append>
                        <b-button variant="success" v-on:click="writePillQr">Записать</b-button>
                      </b-input-group-append>
                    </b-input-group>
                  </b-card-body>
                </b-card>
                <b-card no-body v-if="qrModel.type == 'empty'">
                  <b-card-header>Запись реагента на QR</b-card-header>
                  <b-card-body>
                    <b-input-group>
                      <b-form-select v-model="selectedReagent">
                        <option v-for="reagent in allReagents" :value="reagent.id"> {{ reagent.name }} ( {{ reagent.id }} )
                        </option>
                      </b-form-select>
                      <b-input-group-append>
                        <b-button variant="success" v-on:click="writeReagentQr">Записать</b-button>
                      </b-input-group-append>
                    </b-input-group>
                  </b-card-body>
                </b-card>
              </b-card-group>
            </div>
            <div  class="mt-3">
              <b-card-group deck>
                 <b-card no-body v-if="qrModel.type == 'empty'">
                   <b-card-header>Запись телохранилища на QR</b-card-header>
                   <b-card-body>
                    <b-input-group prepend="Название">
                      <b-form-input v-model="bodyStorageName"></b-form-input>
                      <b-input-group-append>
                        <b-button variant="success" v-on:click="writeBodyStorageToQr">Записать</b-button>
                      </b-input-group-append>
                    </b-input-group>
                   </b-card-body>
                 </b-card>

                 <b-card no-body v-if="qrModel.type == 'empty'">
                   <b-card-header>Запись дрона на QR</b-card-header>
                   <b-card-body>
                    <b-input-group>
                      <b-form-select v-model="selectedDrone">
                        <option v-for="drone in allDrones" :value="drone.id"> {{ drone.name }} ( {{ drone.id }} )
                        </option>
                      </b-form-select>
                      <b-input-group-append>
                        <b-button variant="success" v-on:click="writeDroneQr">Записать</b-button>
                      </b-input-group-append>
                    </b-input-group>
                   </b-card-body>
                 </b-card>

                 <b-card no-body v-if="qrModel.type == 'empty'">
                   <b-card-header>Запись символа ИИ на QR</b-card-header>
                   <b-card-body>
                    <b-input-group>
                      <b-form-input v-model="aiName"></b-form-input>
                      <b-input-group-append>
                        <b-button variant="success" v-on:click="writeAiSymbolQr">Записать</b-button>
                      </b-input-group-append>
                    </b-input-group>
                   </b-card-body>
                 </b-card>
              </b-card-group>
            </div>

            <div  class="mt-3">
              <b-card-group deck>
                 <b-card no-body v-if="qrModel.type == 'empty'">
                   <b-card-header>Запись кармы на QR</b-card-header>
                   <b-card-body>
                    <b-input-group>
                      <b-form-input v-model="karmaAmount"></b-form-input>
                      <b-input-group-append>
                        <b-button variant="success" v-on:click="writeKarmaSourceQr">Записать</b-button>
                      </b-input-group-append>
                    </b-input-group>
                   </b-card-body>
                 </b-card>
              </b-card-group>
            </div>

            <div  class="mt-3">
              <b-card-group deck>
                 <b-card no-body v-if="qrModel.type == 'empty'">
                   <b-card-header>Запись фокуса на QR</b-card-header>
                   <b-card-body>
                    <b-input-group>
                      <b-form-select v-model="selectedFocus">
                        <option v-for="focus in allFocuses" :value="focus.id"> {{ focus.name }} ( {{ focus.id }} )
                        </option>
                      </b-form-select>
                      <b-input-group-append>
                        <b-button variant="success" v-on:click="writeFocusQr">Записать</b-button>
                      </b-input-group-append>
                    </b-input-group>
                   </b-card-body>
                 </b-card>

                 <b-card no-body v-if="qrModel.type == 'empty'">
                   <b-card-header>Запись еды на QR</b-card-header>
                   <b-card-body>
                    <b-input-group>
                      <b-form-input type="number" v-model="foodNumberOfUses"></b-form-input>
                      <b-input-group-append>
                        <b-button variant="success" v-on:click="writeFoodQr">Еда</b-button>
                        <b-button variant="success" v-on:click="writeMeatQr">Мясо</b-button>
                        <b-button variant="success" v-on:click="writeBloodQr">Кровь</b-button>
                      </b-input-group-append>
                    </b-input-group>
                   </b-card-body>
                 </b-card>
              </b-card-group>
            </div>

            <div class="mt-3">
              <b-card no-body v-if="qrModel.type == 'empty'">
                <b-card-header>Запись локуса этической группы / универсального заряда на QR</b-card-header>
                <b-card-body>
                  <b-input-group prepend="Зарядов">
                    <b-form-input type="number" v-model="locusCharges"></b-form-input>
                    <b-form-select v-model="selectedEthicGroup">
                      <option v-for="group in allEthicGroups" :value="group.id"> {{ group.name }} ( {{ group.id }} )
                      </option>
                    </b-form-select>
                    <b-input-group-append>
                      <b-button variant="success" v-on:click="writeLocusQr">Записать локус</b-button>
                      <b-button variant="success" v-on:click="writeLocusChargeQr">Записать заряд локуса</b-button>
                    </b-input-group-append>
                  </b-input-group>
                </b-card-body>
              </b-card>
            </div>

            <div class="mt-3">
              <b-card no-body v-if="qrModel.type == 'empty'">
                <b-card-header>Запись воскрешательной капсулы на QR</b-card-header>
                <b-card-body>
                  <b-input-group prepend="Название, описание">
                    <b-form-input v-model="reanimateCapsule.name"></b-form-input>
                    <b-form-input v-model="reanimateCapsule.description"></b-form-input>
                  </b-input-group>

                  <b-input-group prepend="get-essence, air-essence, cooldown">
                    <b-form-input type="number" v-model="reanimateCapsule.essenceGet"></b-form-input>
                    <b-form-input type="number" v-model="reanimateCapsule.essenceAir"></b-form-input>
                    <b-form-input type="number" v-model="reanimateCapsule.cooldown"></b-form-input>
                    <b-input-group-append>
                      <b-button variant="success" v-on:click="writeReanimateCapsuleQr">Записать</b-button>
                    </b-input-group-append>
                  </b-input-group>
                </b-card-body>
              </b-card>
            </div>

          </span>
        </b-tab>

        <b-tab title="Глобальные действия">
          <div class="mt-3">
            <b-card no-body>
              <b-card-header>
                Ночная пауза
              </b-card-header>
              <b-card-body>
                <div>
                  <b-input-group prepend="Пауза (часов), Сдвиг таймеров (часов)" class="mb-2">
                    <b-form-input type="number" v-model="nightPauseData.pauseDurationHours"></b-form-input>
                    <b-form-input type="number" v-model="nightPauseData.postponeDurationHours"></b-form-input>
                    <b-input-group-append>
                      <b-button variant="success" v-on:click="pauseGame">Пауза</b-button>
                    </b-input-group-append>
                  </b-input-group>
                </div>
              </b-card-body>
            </b-card>
          </div>
        </b-tab>

      </b-tabs>
    </b-container>
  </div>
  <script src="index.js"></script>
</body>

</html>
